<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<link rel = "stylesheet" href="../css/mystyle.css">

	<script type="text/javascript">

	proc1 = () => {	
		//입력
		input = prompt("주민등록 번호를 입력하시오");
		// 각 자리별로 추출하기
		yy = parseInt(input.substr(0,2));
		mm = parseInt(input.substr(2,2));
		dd = parseInt(input.substr(4,2));
		
		
		ygend = parseInt(input.substr(7,1));
		
		
		// 비교 - ygend값 비교 - 성별 구하기
		if(ygend == 1 || ygend ==3){
			gender = "남자";
		}else if(ygend == 2 || ygend ==4){
			gender = "여자";
		}
		
		// 비교 - ygend값 비교 - 90년대, 00년대 구분 1900, 2000
		
		if(ygend == 1 || ygend == 2)
			byy = 1900;
		else if(ygend == 3 || ygend == 4)
			byy = 2000;
		
		//생년월일
		bir = (byy + yy) + "년 " + mm +"월 "+ dd+"일";
		
		//나이
		day = 2023;
		age = day -  parseInt(bir+yy);
		
		//출력
		str = input.substr(0,8)+"******" +"<br>";
		str += `생년월일 : ${bir} <br> 
		나이 : ${age} <br> 
		성별 : ${gender}`
		document.getElementById('result1').innerHTML = str;	
	}
	
	proc2 = () => {	
		
		
		multi = "234567892345"
		//1. A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.
		input = prompt("주민등록 번호를 입력하시오");
		
		code = input.replace("-", "")
		sum=0;
		
		for(i=0; i<multi.length; i++){
			sum += multi.substr(i,1)*code.substr(i,1);
		}
		
		//2. 1번의 합을 11로 나눈 나머지를 구한다.
		divide = sum%11;
		
		//3. 11에서 2번의 결과를 뺀다.
		sub = 11 - divide;
		
		//4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환
		
		sub = sub % 10;
		
	
		if(code.substr(code.length-1,1) == sub){
			flag = "맞다";
		}else{
			flag = "틀리다";
			
		}
							
		str = `주민번호 : ${input.substring(0,8)} ******<br> ${flag} `;	
		//5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.
		document.getElementById('result2').innerHTML = str;
	
	}
		</script>
</head>
<body>






<div class="box">
   <p> prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를 출력
   </p>

   <input type="button" value="확인" onclick= "proc1()">
	<br><br>
   <div class="result" id="result1"></div>
</div>

<div class="box">
   <p> 주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는<br>
		프로그램을 작성하시오.(ABCDEF-GHIJKLM)<br>
		1. A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
		2. 1번의 합을 11로 나눈 나머지를 구한다.<br>
		3. 11에서 2번의 결과를 뺀다.<br>
		4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
		5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.<br>

   </p>
   <input type="button" value="확인" onclick= "proc2()">
	<br><br>
   <div class="result" id="result2"></div>
</div>


</body>
</html>